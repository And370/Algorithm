# 36. æœ‰æ•ˆçš„æ•°ç‹¬
#
# åˆ¤æ–­ä¸€ä¸ª 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚ 
# 
#  
#  æ•°å­— 1-9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ 
#  æ•°å­— 1-9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ 
#  æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ 
#  
#
#  ä¸Šå›¾æ˜¯ä¸€ä¸ªéƒ¨åˆ†å¡«å……çš„æœ‰æ•ˆçš„æ•°ç‹¬ã€‚ 
# 
#  æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ '.' è¡¨ç¤ºã€‚ 
# 
#  ç¤ºä¾‹ 1: 
# 
#  è¾“å…¥:
# [
#   ["5","3",".",".","7",".",".",".","."],
#   ["6",".",".","1","9","5",".",".","."],
#   [".","9","8",".",".",".",".","6","."],
#   ["8",".",".",".","6",".",".",".","3"],
#   ["4",".",".","8",".","3",".",".","1"],
#   ["7",".",".",".","2",".",".",".","6"],
#   [".","6",".",".",".",".","2","8","."],
#   [".",".",".","4","1","9",".",".","5"],
#   [".",".",".",".","8",".",".","7","9"]
# ]
# è¾“å‡º: true
#
#  ç¤ºä¾‹ 2: 
# 
#  è¾“å…¥:
# [
# Â  ["8","3",".",".","7",".",".",".","."],
# Â  ["6",".",".","1","9","5",".",".","."],
# Â  [".","9","8",".",".",".",".","6","."],
# Â  ["8",".",".",".","6",".",".",".","3"],
# Â  ["4",".",".","8",".","3",".",".","1"],
# Â  ["7",".",".",".","2",".",".",".","6"],
# Â  [".","6",".",".",".",".","2","8","."],
# Â  [".",".",".","4","1","9",".",".","5"],
# Â  [".",".",".",".","8",".",".","7","9"]
# ]
# è¾“å‡º: false
# è§£é‡Š: é™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä» 5 æ”¹ä¸º 8 ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸ ç¤ºä¾‹1 ç›¸åŒã€‚
#      ä½†ç”±äºä½äºå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚ 
# 
#  è¯´æ˜: 
#
#  ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚ 
#  åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚ 
#  ç»™å®šæ•°ç‹¬åºåˆ—åªåŒ…å«æ•°å­— 1-9 å’Œå­—ç¬¦ '.' ã€‚ 
#  ç»™å®šæ•°ç‹¬æ°¸è¿œæ˜¯ 9x9 å½¢å¼çš„ã€‚ 
#  
#  Related Topics å“ˆå¸Œè¡¨ 
#  ğŸ‘ 432 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def isValidSudoku(self, board: [[str]]) -> bool:
        row_cache = set()
        col_cache = {key: set() for key in range(9)}
        box_cache = {key: set() for key in range(9)}

        for row in range(9):
            for col in range(9):
                value = board[row][col]
                # å½“valueä¸ºæ•°å­—æ—¶
                if value != ".":
                    # è¡Œåˆ¤æ–­
                    if value in row_cache:
                        # print(row, col, "row")
                        return False
                    else:
                        row_cache.add(value)
                    # åˆ—åˆ¤æ–­
                    if value in col_cache[col]:
                        # print(row, col, "col")
                        return False
                    else:
                        col_cache[col].add(value)
                    # å°æ¡†åˆ¤æ–­,è¿™é‡Œæ³¨æ„å°æ¡†çš„åºå·
                    box_n = (row // 3 * 3) + (col // 3)
                    if value in box_cache[box_n]:
                        # print(row, col, "box")
                        return False
                    else:
                        box_cache[box_n].add(value)
                # åˆ—ä¸º8ï¼Œåˆ™å®Œæˆä¸€è¡Œæ‰«æï¼Œè¦æ¸…ç©ºè¡Œé›†åˆ,æ³¨æ„è¿™é‡Œè¦åœ¨åˆ¤æ–­æ˜¯å¦ä¸º"."ä¹‹å¤–
                if col == 8:
                    row_cache.clear()
        return True


# if __name__ == '__main__':
#     solution = Solution()
#     board = [["5", "3", ".", ".", "7", ".", ".", ".", "."], ["6", ".", ".", "1", "9", "5", ".", ".", "."],
#              [".", "9", "8", ".", ".", ".", ".", "6", "."], ["8", ".", ".", ".", "6", ".", ".", ".", "3"],
#              ["4", ".", ".", "8", ".", "3", ".", ".", "1"], ["7", ".", ".", ".", "2", ".", ".", ".", "6"],
#              [".", "6", ".", ".", ".", ".", "2", "8", "."], [".", ".", ".", "4", "1", "9", ".", ".", "5"],
#              [".", ".", ".", ".", "8", ".", ".", "7", "9"]]
#     print(solution.isValidSudoku(board))

# leetcode submit region end(Prohibit modification and deletion)
