# 41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°
#
# ç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1: 
# 
#  è¾“å…¥: [1,2,0]
# è¾“å‡º: 3
#  
# 
#  ç¤ºä¾‹ 2: 
# 
#  è¾“å…¥: [3,4,-1,1]
# è¾“å‡º: 2
#  
# 
#  ç¤ºä¾‹ 3: 
# 
#  è¾“å…¥: [7,8,9,11,12]
# è¾“å‡º: 1
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  ä½ çš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”ä¸ºO(n)ï¼Œå¹¶ä¸”åªèƒ½ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚ 
#  Related Topics æ•°ç»„ 
#  ğŸ‘ 821 ğŸ‘ 0
"""
è§£:
ç¼ºå¤±çš„é¦–ä¸ªæ­£æ•°,ä»å¯ä»¥è€ƒè™‘ä»1->?å¾ªç¯.
é‚£ä¹ˆè¿™ä¸ª?æ€ä¹ˆé™å®š?
è€ƒè™‘åˆ°é•¿åº¦ä¸ºnçš„æ•°ç»„,å…¶æœ€å¤šåªèƒ½è¦†ç›–1-nçš„èŒƒå›´,åˆ™å¾ªç¯çš„ä¸Šé™ä¸ºnæˆ–è€…n+1,ç¨åè¯†æƒ…å†µè€Œå®š.
é•¿åº¦ä¸ºnçš„æ•°å­—è¦æ‰¾åˆ°å…¶ç¼ºå¤±çš„å€¼,åˆ™æƒ³åˆ°çš„æ˜¯ä»1-nè¿›è¡Œnæ¡¶æ’åº
ä½†æ˜¯æ•°ç»„ä¸ºä¹±åº,åˆ™è‹¥éœ€è¦æŸ¥æ‰¾ç¬¬1å’Œç¬¬2åˆ°ç¬¬nçš„å€¼æ‰€åœ¨index,éœ€è¦æ¯æ¬¡è¿›è¡Œä¸€æ¬¡éå†
å¦ä¸€ç§åšæ³•æ˜¯å°†[å½“å‰çš„å€¼]ä¸[å°†å…¶ä½œä¸ºç´¢å¼•çš„å€¼è¿›è¡Œäº¤æ¢]ä¸€ç›´åˆ°[å½“å‰ä½ç½®çš„å€¼]ä¸[å…¶ç´¢å¼•å€¼]ç›¸ç­‰æˆ–è€…å…¶è¶…å‡ºç´¢å¼•èŒƒå›´
æ­¤å¤„ä¸º value = index + 1
"""
# from typing import List


# leetcode submit region begin(Prohibit modification and deletion)
class Solution:
    def firstMissingPositive(self, nums: List[int]) -> int:
        if not nums:
            return 1
        n = len(nums)
        for index in range(n):
            num = nums[index]
            while 0 < num <= n and nums[num - 1] != num:
                # å­˜å‚¨å¾—å·²çŸ¥å¤„æœªçŸ¥å€¼
                tmp = nums[num - 1]
                # å°†å·²çŸ¥å€¼æ”¾å…¥å¯¹åº”ä½ç½®
                nums[num - 1] = num
                # å½“å‰å€¼æ”¾å…¥åŸæœªçŸ¥å€¼
                nums[index] = tmp
                # è¿›è¡Œè‡³å½“å‰å€¼ä¸åœ¨ç´¢å¼•èŒƒå›´å†…
                num = tmp
        for index in range(n):
            if nums[index] != index + 1:
                return index + 1
        return n + 1


# leetcode submit region end(Prohibit modification and deletion)
# if __name__ == '__main__':
#     solution = Solution()
#     solution.firstMissingPositive([3, 4, -1, 1])
